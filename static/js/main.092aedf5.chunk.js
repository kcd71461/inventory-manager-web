(this["webpackJsonpinventory-manager-web"]=this["webpackJsonpinventory-manager-web"]||[]).push([[0],{113:function(e,n,t){},114:function(e,n,t){},122:function(e,n,t){},126:function(e,n,t){},129:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),i=t(12),c=t.n(i),a=(t(113),t(24)),s=(t(114),t(176)),u=t(177),l=t(178),d=t(170),j=t(98),p=t.n(j),b=t(99),O=t.n(b),v=t(101),f=Object(v.a)({typography:{fontFamily:"Noto Sans KR, Roboto, sans-serif"},overrides:{MuiTableCell:{sizeSmall:{padding:"3px"},stickyHeader:{padding:"6px",fontSize:"1.1rem"}},MuiOutlinedInput:{input:{paddingLeft:5,paddingRight:5},inputMarginDense:{paddingTop:8,paddingBottom:8},adornedEnd:{paddingRight:5}},MuiInputAdornment:{positionEnd:{marginLeft:4}}}}),h=t(84),m=t(15),g=t(62),x=t(41),w=t(85),C=t(179),y=t(180),I=t(102),R=t(100),N=t(33),S=t.n(N),_=t(91),P=t.n(_),T=t(92),k=t.n(T),D=t(163),E=t(164),H=t(165),J=t(166),U=t(167),z=t(159),A=t(161),q=t(183),K=t(162),F=t(90),Y=t.n(F),B=t(89),L=t.n(B),M=(t(122),t(2));function V(e){var n=e.id,t=e.value,r=e.onChange,o=e.allowNegative,i=void 0!==o&&o,c=e.unit;return Object(M.jsxs)("div",{className:"number-input",children:[Object(M.jsx)(z.a,{color:"primary",size:"small",disabled:!i&&(t<=0||isNaN(t)),onClick:function(){return null===r||void 0===r?void 0:r(t-1)},children:Object(M.jsx)(L.a,{})}),Object(M.jsx)(A.a,{fullWidth:!0,size:"small",children:Object(M.jsx)(q.a,{inputProps:{className:"text-align-center"},id:n,value:t,type:"number",onChange:function(e){null===r||void 0===r||r(parseInt(e.target.value))},fullWidth:!0,onBlur:function(){isNaN(t)&&(null===r||void 0===r||r(0))},endAdornment:c?Object(M.jsx)(K.a,{position:"end",children:c}):void 0})}),Object(M.jsx)(z.a,{color:"primary",size:"small",onClick:function(){return null===r||void 0===r?void 0:r(t+1)},children:Object(M.jsx)(Y.a,{})})]})}var W=t(4),$="row",G=function(e){var n=e.row,t=e.index,r=e.moveRow,i=e.onCellChange,c=e.allowReordering,s=e.allowRowDelete,u=e.onDeleteRow,l=o.a.useRef(null),d=o.a.useRef(null),j=Object(C.a)({accept:$,hover:function(e,n){if(l.current){var o=e.index,i=t;if(o!==i){var c=l.current.getBoundingClientRect(),a=(c.bottom-c.top)/2,s=n.getClientOffset().y-c.top;o<i&&s<a||o>i&&s>a||(r(o,i),e.index=i)}}}}),p=Object(a.a)(j,2)[1],b=Object(y.a)({type:$,item:{type:$,index:t},collect:function(e){return{isDragging:e.isDragging()}}}),O=Object(a.a)(b,3),v=O[0].isDragging,f=O[1],h=v?.5:1;return(0,O[2])(p(l)),f(d),Object(M.jsxs)(H.a,{ref:l,style:{opacity:h},children:[c&&Object(M.jsx)(J.a,{ref:d,children:Object(M.jsx)(z.a,{size:"small",children:Object(M.jsx)(P.a,{})})}),n.cells.map((function(e){var n=e.column;return Object(M.jsx)(J.a,Object(m.a)(Object(m.a)({},e.getCellProps()),{},{children:Object(M.jsx)(Q,{cell:e,onChange:function(e){null===i||void 0===i||i(n.id,e)}})}))})),s&&Object(M.jsx)(J.a,{children:Object(M.jsx)(z.a,{size:"small",color:"secondary",onClick:u,children:Object(M.jsx)(k.a,{})})})]})},Q=function(e){var n=e.cell,t=e.onChange,r=n.column,o=n.value,i=r.getUnit?r.getUnit(n):void 0;switch(r.editType){case"string":return Object(M.jsx)(A.a,{fullWidth:!0,size:"small",children:Object(M.jsx)(q.a,{fullWidth:!0,value:o,onChange:function(e){return null===t||void 0===t?void 0:t(e.target.value)},endAdornment:i?Object(M.jsx)(K.a,{position:"end",children:i}):void 0})});case"number":return Object(M.jsx)(V,{value:o,onChange:function(e){return null===t||void 0===t?void 0:t(e)},unit:i});default:return Object(M.jsx)(M.Fragment,{children:n.render("Cell")})}},X=function(e){var n=e.className,t=e.columns,r=e.data,o=e.getRowId,i=e.onChange,c=e.allowRowDelete,a=void 0===c||c,s=e.allowReordering,u=void 0===s||s,l=Object(w.useTable)({data:r,columns:t,getRowId:o}),d=l.getTableProps,j=l.getTableBodyProps,p=l.headerGroups,b=l.rows,O=l.prepareRow,v=function(e,n){var t=r[e];null===i||void 0===i||i(S()(r,{$splice:[[e,1],[n,0,t]]}))},f=d();return Object(M.jsx)(I.a,{options:R.a,children:Object(M.jsxs)(D.a,Object(m.a)(Object(m.a)({},f),{},{size:"small",stickyHeader:!0,className:Object(W.a)(f.className,n),children:[Object(M.jsx)(E.a,{children:p.map((function(e){return Object(M.jsxs)(H.a,Object(m.a)(Object(m.a)({},e.getHeaderGroupProps()),{},{children:[u&&Object(M.jsx)(J.a,{width:10,align:"center"}),e.headers.map((function(e){return Object(M.jsx)(J.a,Object(m.a)(Object(m.a)({},e.getHeaderProps()),{},{align:e.columnAlign,children:e.render("Header")}))})),a&&Object(M.jsx)(J.a,{width:10,align:"center"})]}))}))}),Object(M.jsx)(U.a,Object(m.a)(Object(m.a)({},j()),{},{children:b.map((function(e,n){return O(e),Object(M.jsx)(G,Object(m.a)(Object(m.a)({index:n,row:e,moveRow:v},e.getRowProps()),{},{allowReordering:u,allowRowDelete:a,onCellChange:function(e,t){null===i||void 0===i||i(S()(r,Object(x.a)({},n,Object(x.a)({},e,{$set:t}))))},onDeleteRow:function(){return null===i||void 0===i?void 0:i(S()(r,{$splice:[[n,1]]}))}}))}))}))]}))})},Z=t(93),ee=t(76),ne=(t(9),function(){function e(){Object(ee.a)(this,e),this._products=[],this._productInventories=[];var n=window.localStorage.getItem(e.KEY_PRODUCTS);if(n)try{var t=JSON.parse(n);this._products=t}catch(i){return void window.alert("\ub4f1\ub85d \uc544\uc774\ud15c\uc744 \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\n\ub4f1\ub85d \uc544\uc774\ud15c\uc774 \ucd08\uae30\ud654 \ub429\ub2c8\ub2e4.")}var r=window.localStorage.getItem(e.KEY_PRODUCT_INVENTORIES);if(r)try{var o=JSON.parse(r);this._productInventories=o}catch(i){return void window.alert("\ub4f1\ub85d \uc544\uc774\ud15c\uc744 \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\n\ub4f1\ub85d \uc544\uc774\ud15c\uc774 \ucd08\uae30\ud654 \ub429\ub2c8\ub2e4.")}}return Object(Z.a)(e,[{key:"products",get:function(){return this._products}},{key:"productInventories",get:function(){return this._productInventories}},{key:"save",value:function(){this.filterProductInventories(),window.localStorage.setItem(e.KEY_PRODUCTS,JSON.stringify(this._products)),window.localStorage.setItem(e.KEY_PRODUCT_INVENTORIES,JSON.stringify(this._productInventories))}},{key:"saveProducts",value:function(e){this._products=e,this.save()}},{key:"saveProductInventories",value:function(n){this._productInventories=n,this.filterProductInventories(),window.localStorage.setItem(e.KEY_PRODUCT_INVENTORIES,JSON.stringify(this._productInventories))}},{key:"filterProductInventories",value:function(){var e=this;if(JSON.stringify(this._productInventories.map((function(e){return e.product})))!==JSON.stringify(this._products)){var n=this._products.map((function(n){var t=e._productInventories.find((function(e){return e.product.id===n.id}));if(!t||JSON.stringify(n)!==JSON.stringify(t.product)){var r=(null===t||void 0===t?void 0:t.remainCount)||0,o=(null===t||void 0===t?void 0:t.requiredCount)||0;return{product:n,remainCount:r,requiredCount:o}}return t}));this._productInventories=n}}}]),e}());ne.KEY_PRODUCTS="products",ne.KEY_PRODUCT_INVENTORIES="product_inventories";var te=new ne,re=t(169),oe=t(131),ie=t(181),ce=t(182),ae=t(171),se=t(172),ue=t(173),le=t(174),de=t(175),je=t(61),pe=t.n(je),be=t(77),Oe=t.n(be),ve=(t(126),t(94)),fe=t.n(ve),he=t(95),me=t.n(he),ge=Object(g.a)((function(e){var n=e.show,t=Object(r.useState)(te.productInventories.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{name:"".concat(e.product.name,"/").concat(e.product.company)})}))),i=Object(a.a)(t,2),c=i[0],s=i[1],u=Object(r.useState)(!1),l=Object(a.a)(u,2),j=l[0],p=l[1],b=Object(r.useState)(!1),O=Object(a.a)(b,2),v=O[0],f=O[1];return Object(r.useEffect)((function(){return s(te.productInventories.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{name:"".concat(e.product.name,"/").concat(e.product.company)})}))),function(){}}),[te.products]),n?Object(M.jsxs)("div",{className:"inventory-page page",children:[Object(M.jsx)("div",{className:"table-wrapper",children:Object(M.jsx)(X,{getRowId:function(e){return e.product.id.toString()},columns:[{Header:"\uc774\ub984/\uc5c5\uccb4",accessor:"name",columnAlign:"center"},{Header:"\uc7ac\uace0\uc218\ub7c9",accessor:"remainCount",editType:"number",columnAlign:"center",getUnit:function(e){return e.row.original.product.unit}},{Header:"\ud544\uc694\uc218\ub7c9",accessor:"requiredCount",editType:"number",columnAlign:"center",getUnit:function(e){return e.row.original.product.unit}}],data:c,onChange:function(e){s(e),te.saveProductInventories(e)},allowReordering:!1,allowRowDelete:!1})}),Object(M.jsxs)(re.a,{className:"buttons",color:"primary",variant:"contained",children:[Object(M.jsx)(oe.a,{startIcon:Object(M.jsx)(pe.a,{}),onClick:function(){if(window.confirm("\uc7ac\uace0/\ud544\uc694 \uc218\ub7c9\uc774 0\uc73c\ub85c \ucd08\uae30\ud654\ub429\ub2c8\ub2e4.\n\ucd08\uae30\ud654\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){var e,n=c.map((function(e){return e})),t=Object(h.a)(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.remainCount=0,r.requiredCount=0}}catch(o){t.e(o)}finally{t.f()}s(n),te.saveProductInventories(n)}},children:"\ucd08\uae30\ud654"}),Object(M.jsx)(oe.a,{startIcon:Object(M.jsx)(Oe.a,{}),onClick:function(){p(!0)},children:"\ud074\ub9bd\ubcf4\ub4dc"})]}),Object(M.jsx)(ie.a,{open:j,onClose:function(){p(!1)},children:Object(M.jsx)(d.a,{id:"clipboard-modal",children:Object(M.jsx)(xe,{data:c,onCloseRequest:function(e){e&&f(!0),p(!1)}})})}),Object(M.jsx)(ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:v,autoHideDuration:2e3,onClose:function(){return f(!1)},message:"\ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4!",action:Object(M.jsx)(o.a.Fragment,{children:Object(M.jsx)(z.a,{color:"inherit",onClick:function(){return f(!1)},children:Object(M.jsx)(me.a,{})})})})]}):null}));function xe(e){var n=e.data,t=e.onCloseRequest,r=n.reduce((function(e,n){var t=e.find((function(e){return e.name===n.product.company}));return t||(t={name:n.product.company,inventories:[]},e.push(t)),n.requiredCount>0&&t.inventories.push(n),e}),[]);return Object(M.jsx)(ae.a,{subheader:Object(M.jsx)(se.a,{component:"div",children:"\ud074\ub9bd\ubcf4\ub4dc \ubcf5\uc0ac"}),children:r.map((function(e,n){return Object(M.jsxs)(ue.a,{button:!0,disabled:0===e.inventories.length,onClick:function(){we(e.inventories,{clipboardCopy:!0}),t(!0)},children:[Object(M.jsx)(le.a,{primary:e.name,secondary:e.inventories.map((function(e){return"".concat(e.product.name,"(").concat(e.requiredCount).concat(e.product.unit||"",")")})).join(",")}),Object(M.jsx)(de.a,{children:Object(M.jsx)(z.a,{edge:"end","aria-label":"share",onClick:function(){we(e.inventories,{share:!0})},children:Object(M.jsx)(Oe.a,{})})})]},n)}))})}function we(e,n){var t,r,o=n.share,i=n.clipboardCopy,c=e.map((function(e){return"".concat(e.product.name,"\t").concat(e.requiredCount).concat(e.product.unit||"")})).join("\r\n");(i&&fe()(c),o)&&((null===(t=window.navigator)||void 0===t?void 0:t.share)&&(null===(r=window.navigator)||void 0===r||r.share({text:c})))}var Ce=t(96),ye=t.n(Ce),Ie=t(97),Re=t.n(Ie),Ne=Object(g.a)((function(e){var n=e.show,t=Object(r.useState)(te.products.map((function(e){return e}))),o=Object(a.a)(t,2),i=o[0],c=o[1];return n?Object(M.jsxs)("div",{className:"page",children:[Object(M.jsx)("div",{className:"table-wrapper",children:Object(M.jsx)(X,{getRowId:function(e){return e.id.toString()},columns:[{Header:"\uc774\ub984",accessor:"name",editType:"string",columnAlign:"center"},{Header:"\uc5c5\uccb4",accessor:"company",editType:"string",columnAlign:"center"},{Header:"\ub2e8\uc704",accessor:"unit",editType:"string",columnAlign:"center"}],data:i,onChange:function(e){return c(e)}})}),Object(M.jsxs)(re.a,{className:"buttons",color:"primary",variant:"contained",children:[Object(M.jsx)(oe.a,{startIcon:Object(M.jsx)(pe.a,{}),onClick:function(){window.confirm("\ub9c8\uc9c0\ub9c9 \uc800\uc7a5\ub41c \ub0b4\uc6a9\uc73c\ub85c \ucd08\uae30\ud654\ud569\ub2c8\ub2e4.\n\ucd08\uae30\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&c(te.products.map((function(e){return e})))},children:"\ucd08\uae30\ud654"}),Object(M.jsx)(oe.a,{startIcon:Object(M.jsx)(ye.a,{}),onClick:function(){c(S()(i,{$push:[{id:Date.now(),name:"",company:"",show:!0,unit:""}]}))},children:"\ud589 \ucd94\uac00"}),Object(M.jsx)(oe.a,{startIcon:Object(M.jsx)(Re.a,{}),color:"primary",onClick:function(){return te.saveProducts(i)},children:"\uc800\uc7a5"})]})]}):null}));var Se=[{title:"\uc7ac\uace0\uad00\ub9ac",icon:p.a,component:ge},{title:"\uc124\uc815",icon:O.a,component:Ne}],_e=function(){var e=Object(r.useState)(Se[0].title),n=Object(a.a)(e,2),t=n[0],o=n[1];return Object(M.jsxs)(s.a,{theme:f,children:[Object(M.jsx)("div",{className:"tab-page",children:Se.map((function(e,n){return e.component?Object(M.jsx)(e.component,{show:e.title===t},n):null}))}),Object(M.jsx)(d.a,{elevation:10,children:Object(M.jsx)(u.a,{value:t,onChange:function(e,n){o(n)},showLabels:!0,className:"bottom-nav",children:Se.map((function(e,n){var t=e.title,r=e.icon;return Object(M.jsx)(l.a,{label:t,icon:Object(M.jsx)(r,{}),value:t},n)}))})})]})},Pe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,184)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),o(e),i(e),c(e)}))};c.a.render(Object(M.jsx)(o.a.StrictMode,{children:Object(M.jsx)(_e,{})}),document.getElementById("root")),Pe()}},[[129,1,2]]]);
//# sourceMappingURL=main.092aedf5.chunk.js.map