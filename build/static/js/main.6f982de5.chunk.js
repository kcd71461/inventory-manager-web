(this["webpackJsonpinventory-manager-web"]=this["webpackJsonpinventory-manager-web"]||[]).push([[0],{112:function(e,n,t){},113:function(e,n,t){},121:function(e,n,t){},125:function(e,n,t){},128:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),c=t(12),i=t.n(c),a=(t(112),t(21)),s=(t(113),t(174)),u=t(175),l=t(176),d=t(169),j=t(97),p=t.n(j),b=t(98),O=t.n(b),v=t(100),m=Object(v.a)({typography:{fontFamily:"Noto Sans KR, Roboto, sans-serif"},overrides:{MuiTableCell:{sizeSmall:{padding:"3px"},stickyHeader:{padding:"6px",fontSize:"1.1rem"}},MuiOutlinedInput:{input:{paddingLeft:5,paddingRight:5},inputMarginDense:{paddingTop:8,paddingBottom:8},adornedEnd:{paddingRight:5}},MuiInputAdornment:{positionEnd:{marginLeft:4}}}}),f=t(84),h=t(15),g=t(63),x=t(41),w=t(85),C=t(177),y=t(178),I=t(101),R=t(99),N=t(33),S=t.n(N),_=t(91),P=t.n(_),T=t(92),k=t.n(T),D=t(162),E=t(163),H=t(164),J=t(165),U=t(166),z=t(158),A=t(160),q=t(181),K=t(161),F=t(90),Y=t.n(F),B=t(89),L=t.n(B),M=(t(121),t(2));function V(e){var n=e.id,t=e.value,r=e.onChange,o=e.allowNegative,c=void 0!==o&&o,i=e.unit;return Object(M.jsxs)("div",{className:"number-input",children:[Object(M.jsx)(z.a,{color:"primary",size:"small",disabled:!c&&(t<=0||isNaN(t)),onClick:function(){return null===r||void 0===r?void 0:r(t-1)},children:Object(M.jsx)(L.a,{})}),Object(M.jsx)(A.a,{fullWidth:!0,size:"small",children:Object(M.jsx)(q.a,{inputProps:{className:"text-align-center"},id:n,value:t,type:"number",onChange:function(e){null===r||void 0===r||r(parseInt(e.target.value))},fullWidth:!0,onBlur:function(){isNaN(t)&&(null===r||void 0===r||r(0))},endAdornment:i?Object(M.jsx)(K.a,{position:"end",children:i}):void 0})}),Object(M.jsx)(z.a,{color:"primary",size:"small",onClick:function(){return null===r||void 0===r?void 0:r(t+1)},children:Object(M.jsx)(Y.a,{})})]})}var W=t(4),$="row",G=function(e){var n=e.row,t=e.index,r=e.moveRow,c=e.onCellChange,i=e.allowReordering,s=e.allowRowDelete,u=e.onDeleteRow,l=o.a.useRef(null),d=o.a.useRef(null),j=Object(C.a)({accept:$,hover:function(e,n){if(l.current){var o=e.index,c=t;if(o!==c){var i=l.current.getBoundingClientRect(),a=(i.bottom-i.top)/2,s=n.getClientOffset().y-i.top;o<c&&s<a||o>c&&s>a||(r(o,c),e.index=c)}}}}),p=Object(a.a)(j,2)[1],b=Object(y.a)({type:$,item:{type:$,index:t},collect:function(e){return{isDragging:e.isDragging()}}}),O=Object(a.a)(b,3),v=O[0].isDragging,m=O[1],f=v?.5:1;return(0,O[2])(p(l)),m(d),Object(M.jsxs)(H.a,{ref:l,style:{opacity:f},children:[i&&Object(M.jsx)(J.a,{ref:d,children:Object(M.jsx)(z.a,{size:"small",children:Object(M.jsx)(P.a,{})})}),n.cells.map((function(e){var n=e.column;return Object(M.jsx)(J.a,Object(h.a)(Object(h.a)({},e.getCellProps()),{},{children:Object(M.jsx)(Q,{cell:e,onChange:function(e){null===c||void 0===c||c(n.id,e)}})}))})),s&&Object(M.jsx)(J.a,{children:Object(M.jsx)(z.a,{size:"small",color:"secondary",onClick:u,children:Object(M.jsx)(k.a,{})})})]})},Q=function(e){var n=e.cell,t=e.onChange,r=n.column,o=n.value,c=r.getUnit?r.getUnit(n):void 0;switch(r.editType){case"string":return Object(M.jsx)(A.a,{fullWidth:!0,size:"small",children:Object(M.jsx)(q.a,{fullWidth:!0,value:o,onChange:function(e){return null===t||void 0===t?void 0:t(e.target.value)},endAdornment:c?Object(M.jsx)(K.a,{position:"end",children:c}):void 0})});case"number":return Object(M.jsx)(V,{value:o,onChange:function(e){return null===t||void 0===t?void 0:t(e)},unit:c});default:return Object(M.jsx)(M.Fragment,{children:n.render("Cell")})}},X=function(e){var n=e.className,t=e.columns,r=e.data,o=e.getRowId,c=e.onChange,i=e.allowRowDelete,a=void 0===i||i,s=e.allowReordering,u=void 0===s||s,l=Object(w.useTable)({data:r,columns:t,getRowId:o}),d=l.getTableProps,j=l.getTableBodyProps,p=l.headerGroups,b=l.rows,O=l.prepareRow,v=function(e,n){var t=r[e];null===c||void 0===c||c(S()(r,{$splice:[[e,1],[n,0,t]]}))},m=d();return Object(M.jsx)(I.a,{options:R.a,children:Object(M.jsxs)(D.a,Object(h.a)(Object(h.a)({},m),{},{size:"small",stickyHeader:!0,className:Object(W.a)(m.className,n),children:[Object(M.jsx)(E.a,{children:p.map((function(e){return Object(M.jsxs)(H.a,Object(h.a)(Object(h.a)({},e.getHeaderGroupProps()),{},{children:[u&&Object(M.jsx)(J.a,{width:10,align:"center"}),e.headers.map((function(e){return Object(M.jsx)(J.a,Object(h.a)(Object(h.a)({},e.getHeaderProps()),{},{align:e.columnAlign,children:e.render("Header")}))})),a&&Object(M.jsx)(J.a,{width:10,align:"center"})]}))}))}),Object(M.jsx)(U.a,Object(h.a)(Object(h.a)({},j()),{},{children:b.map((function(e,n){return O(e),Object(M.jsx)(G,Object(h.a)(Object(h.a)({index:n,row:e,moveRow:v},e.getRowProps()),{},{allowReordering:u,allowRowDelete:a,onCellChange:function(e,t){null===c||void 0===c||c(S()(r,Object(x.a)({},n,Object(x.a)({},e,{$set:t}))))},onDeleteRow:function(){return null===c||void 0===c?void 0:c(S()(r,{$splice:[[n,1]]}))}}))}))}))]}))})},Z=t(93),ee=t(77),ne=(t(9),function(){function e(){Object(ee.a)(this,e),this._products=[],this._productInventories=[];var n=window.localStorage.getItem(e.KEY_PRODUCTS);if(n)try{var t=JSON.parse(n);this._products=t}catch(c){return void window.alert("\ub4f1\ub85d \uc544\uc774\ud15c\uc744 \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\n\ub4f1\ub85d \uc544\uc774\ud15c\uc774 \ucd08\uae30\ud654 \ub429\ub2c8\ub2e4.")}var r=window.localStorage.getItem(e.KEY_PRODUCT_INVENTORIES);if(r)try{var o=JSON.parse(r);this._productInventories=o}catch(c){return void window.alert("\ub4f1\ub85d \uc544\uc774\ud15c\uc744 \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\n\ub4f1\ub85d \uc544\uc774\ud15c\uc774 \ucd08\uae30\ud654 \ub429\ub2c8\ub2e4.")}}return Object(Z.a)(e,[{key:"products",get:function(){return this._products}},{key:"productInventories",get:function(){return this._productInventories}},{key:"save",value:function(){this.filterProductInventories(),window.localStorage.setItem(e.KEY_PRODUCTS,JSON.stringify(this._products)),window.localStorage.setItem(e.KEY_PRODUCT_INVENTORIES,JSON.stringify(this._productInventories))}},{key:"saveProducts",value:function(e){this._products=e,this.save()}},{key:"saveProductInventories",value:function(n){this._productInventories=n,this.filterProductInventories(),window.localStorage.setItem(e.KEY_PRODUCT_INVENTORIES,JSON.stringify(this._productInventories))}},{key:"filterProductInventories",value:function(){var e=this;if(JSON.stringify(this._productInventories.map((function(e){return e.product})))!==JSON.stringify(this._products)){var n=this._products.map((function(n){var t=e._productInventories.find((function(e){return e.product.id===n.id}));if(!t||JSON.stringify(n)!==JSON.stringify(t.product)){var r=(null===t||void 0===t?void 0:t.remainCount)||0,o=(null===t||void 0===t?void 0:t.requiredCount)||0;return{product:n,remainCount:r,requiredCount:o}}return t}));this._productInventories=n}}}]),e}());ne.KEY_PRODUCTS="products",ne.KEY_PRODUCT_INVENTORIES="product_inventories";var te=new ne,re=t(168),oe=t(130),ce=t(179),ie=t(180),ae=t(170),se=t(171),ue=t(172),le=t(173),de=t(61),je=t.n(de),pe=t(62),be=t.n(pe),Oe=(t(125),t(94)),ve=t.n(Oe),me=t(95),fe=t.n(me),he=Object(g.a)((function(e){var n=e.show,t=Object(r.useState)(te.productInventories.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{name:"".concat(e.product.name,"/").concat(e.product.company)})}))),c=Object(a.a)(t,2),i=c[0],s=c[1],u=Object(r.useState)(!1),l=Object(a.a)(u,2),j=l[0],p=l[1],b=Object(r.useState)(!1),O=Object(a.a)(b,2),v=O[0],m=O[1];return Object(r.useEffect)((function(){return s(te.productInventories.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{name:"".concat(e.product.name,"/").concat(e.product.company)})}))),function(){}}),[te.products]),n?Object(M.jsxs)("div",{className:"inventory-page page",children:[Object(M.jsx)("div",{className:"table-wrapper",children:Object(M.jsx)(X,{getRowId:function(e){return e.product.id.toString()},columns:[{Header:"\uc774\ub984/\uc5c5\uccb4",accessor:"name",columnAlign:"center"},{Header:"\uc7ac\uace0\uc218\ub7c9",accessor:"remainCount",editType:"number",columnAlign:"center",getUnit:function(e){return e.row.original.product.unit}},{Header:"\ud544\uc694\uc218\ub7c9",accessor:"requiredCount",editType:"number",columnAlign:"center",getUnit:function(e){return e.row.original.product.unit}}],data:i,onChange:function(e){s(e),te.saveProductInventories(e)},allowReordering:!1,allowRowDelete:!1})}),Object(M.jsxs)(re.a,{className:"buttons",color:"primary",variant:"contained",children:[Object(M.jsx)(oe.a,{startIcon:Object(M.jsx)(je.a,{}),onClick:function(){var e,n=i.map((function(e){return e})),t=Object(f.a)(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.remainCount=0,r.requiredCount=0}}catch(o){t.e(o)}finally{t.f()}s(n),te.saveProductInventories(n)},children:"\ucd08\uae30\ud654"}),Object(M.jsx)(oe.a,{startIcon:Object(M.jsx)(be.a,{}),onClick:function(){p(!0)},children:"\ud074\ub9bd\ubcf4\ub4dc"})]}),Object(M.jsx)(ce.a,{open:j,onClose:function(){p(!1)},children:Object(M.jsx)(d.a,{id:"clipboard-modal",children:Object(M.jsx)(ge,{data:i,onCloseRequest:function(e){e&&m(!0),p(!1)}})})}),Object(M.jsx)(ie.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:v,autoHideDuration:2e3,onClose:function(){return m(!1)},message:"\ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4!",action:Object(M.jsx)(o.a.Fragment,{children:Object(M.jsx)(z.a,{color:"inherit",onClick:function(){return m(!1)},children:Object(M.jsx)(fe.a,{})})})})]}):null}));function ge(e){var n=e.data,t=e.onCloseRequest,r=n.reduce((function(e,n){var t=e.find((function(e){return e.name===n.product.company}));return t||(t={name:n.product.company,inventories:[]},e.push(t)),n.requiredCount>0&&t.inventories.push(n),e}),[]);return Object(M.jsx)(ae.a,{subheader:Object(M.jsx)(se.a,{component:"div",children:"\ud074\ub9bd\ubcf4\ub4dc \ubcf5\uc0ac"}),children:r.map((function(e,n){return Object(M.jsx)(ue.a,{button:!0,disabled:0===e.inventories.length,onClick:function(){var n;n=e.inventories,ve()(n.map((function(e){return"".concat(e.product.name,"\t").concat(e.requiredCount)})).join("\n")),t(!0)},children:Object(M.jsx)(le.a,{primary:e.name,secondary:e.inventories.map((function(e){return"".concat(e.product.name,"(").concat(e.requiredCount,")")})).join(",")})},n)}))})}var xe=t(96),we=t.n(xe),Ce=Object(g.a)((function(e){var n=e.show,t=Object(r.useState)(te.products.map((function(e){return e}))),o=Object(a.a)(t,2),c=o[0],i=o[1];return n?Object(M.jsxs)("div",{className:"page",children:[Object(M.jsx)("div",{className:"table-wrapper",children:Object(M.jsx)(X,{getRowId:function(e){return e.id.toString()},columns:[{Header:"\uc774\ub984",accessor:"name",editType:"string",columnAlign:"center"},{Header:"\uc5c5\uccb4",accessor:"company",editType:"string",columnAlign:"center"},{Header:"\ub2e8\uc704",accessor:"unit",editType:"string",columnAlign:"center"}],data:c,onChange:function(e){return i(e)}})}),Object(M.jsxs)(re.a,{className:"buttons",color:"primary",variant:"contained",children:[Object(M.jsx)(oe.a,{startIcon:Object(M.jsx)(je.a,{}),onClick:function(){i(te.products.map((function(e){return e})))},children:"\ucd08\uae30\ud654"}),Object(M.jsx)(oe.a,{startIcon:Object(M.jsx)(be.a,{}),onClick:function(){i(S()(c,{$push:[{id:Date.now(),name:"",company:"",show:!0,unit:""}]}))},children:"\ud589 \ucd94\uac00"}),Object(M.jsx)(oe.a,{startIcon:Object(M.jsx)(we.a,{}),color:"primary",onClick:function(){return te.saveProducts(c)},children:"\uc800\uc7a5"})]})]}):null}));var ye=[{title:"\uc7ac\uace0\uad00\ub9ac",icon:p.a,component:he},{title:"\uc124\uc815",icon:O.a,component:Ce}],Ie=function(){var e=Object(r.useState)(ye[0].title),n=Object(a.a)(e,2),t=n[0],o=n[1];return Object(M.jsxs)(s.a,{theme:m,children:[Object(M.jsx)("div",{className:"tab-page",children:ye.map((function(e,n){return e.component?Object(M.jsx)(e.component,{show:e.title===t},n):null}))}),Object(M.jsx)(d.a,{elevation:10,children:Object(M.jsx)(u.a,{value:t,onChange:function(e,n){o(n)},showLabels:!0,className:"bottom-nav",children:ye.map((function(e,n){var t=e.title,r=e.icon;return Object(M.jsx)(l.a,{label:t,icon:Object(M.jsx)(r,{}),value:t},n)}))})})]})},Re=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,182)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),o(e),c(e),i(e)}))};i.a.render(Object(M.jsx)(o.a.StrictMode,{children:Object(M.jsx)(Ie,{})}),document.getElementById("root")),Re()}},[[128,1,2]]]);
//# sourceMappingURL=main.6f982de5.chunk.js.map